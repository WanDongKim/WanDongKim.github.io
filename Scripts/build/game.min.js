var config,math,objects,managers,scenes,__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(t,s){function n(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(n.prototype=s.prototype,new n)}}();!function(e){var t=function(){function e(){}return e.LEFT_ARROW=37,e.RIGHT_ARROW=39,e.UP_ARROW=40,e.DOWN_ARROW=38,e.SPACE=32,e}();e.Keys=t}(config||(config={})),function(e){var t;(t=e.Scene||(e.Scene={}))[t.LOADING=0]="LOADING",t[t.OPENING=1]="OPENING",t[t.CHOOSEMODE=2]="CHOOSEMODE",t[t.PLAY_ONE=3]="PLAY_ONE",t[t.PLAY_TWO=4]="PLAY_TWO",t[t.PLAY_THREE=5]="PLAY_THREE",t[t.GAMEOVER=6]="GAMEOVER"}(config||(config={})),function(e){var t=function(){function e(){}return e.HighScore=0,e}();e.Game=t}(managers||(managers={})),function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.assetManager=managers.Game.assetManager,t}return __extends(t,e),t.prototype.Start=function(){},t.prototype.Update=function(){},t.prototype.Main=function(){},t}(createjs.Container);e.Scene=t}(objects||(objects={})),function(e){var t=function(e){function t(t,s){return void 0===t&&(t=0),void 0===s&&(s=0),e.call(this,t,s)||this}return __extends(t,e),t.distance=function(e,t){return Math.floor(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))},t}(createjs.Point);e.Vector2=t}(math||(math={})),function(e){var t=function(e){function t(t){var s=e.call(this,managers.Game.textureAtlas,t)||this;return s.name=t,s._init(),s}return __extends(t,e),Object.defineProperty(t.prototype,"Dy",{get:function(){return this._dy},set:function(e){this._dy=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isColliding",{get:function(){return this._isColliding},set:function(e){this._isColliding=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"life",{get:function(){return this._life},set:function(e){this._life=e},enumerable:!0,configurable:!0}),t.prototype._init=function(){this.width=this.getBounds().width,this.height=this.getBounds().height,this.centerX=.5*this.width,this.centerY=.5*this.height,this.regX=this.centerX,this.regY=this.centerY,this.position=new math.Vector2(this.x,this.y),this.isColliding=!1,this.Life=this._life},t.prototype.Reset=function(){},t.prototype.CheckBounds=function(){},t.prototype.Move=function(){},t.prototype.Start=function(){},t.prototype.Update=function(){},t}(createjs.Sprite);e.GameObject=t}(objects||(objects={})),function(e){var t=function(e){function t(t,s,n){void 0===s&&(s=0),void 0===n&&(n=0);var i=e.call(this,t)||this;return i.x=s,i.y=n,i}return __extends(t,e),t}(e.GameObject);e.Button=t}(objects||(objects={})),function(e){var t=function(e){function t(t,s,n,i,o,a,r){void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=!1);var c=e.call(this,t,s+" "+n,i)||this;return r&&(c.regX=.5*c.getMeasuredWidth(),c.regY=.5*c.getMeasuredHeight()),c.x=o,c.y=a,c._boss=managers.Game.boss,c._enemy=managers.Game.enemies,c._scoreBoard=managers.Game.scoreboardManager,c}return __extends(t,e),t.prototype.Update=function(){0===this._boss.alpha?(createjs.Sound.play("tada"),this.alpha=1,this.Move(),this._enemy.forEach(function(e){managers.Game.currentSceneObject.removeChild(e)})):this.alpha=0},t.prototype.Reset=function(){this.alpha=0,this.x=320,this.y=600},t.prototype.Move=function(){this.y-=5},t.prototype.CheckBounds=function(){this.y<0&&this.Reset()},t}(createjs.Text);e.Label=t}(objects||(objects={})),function(e){var t=function(e){function t(t,s,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var o=e.call(this,t.getResult(s))||this;return o.regX=.5*o.getBounds().width,o.regY=.5*o.getBounds().height,o.x=n,o.y=i,o}return __extends(t,e),t}(createjs.Bitmap);e.Logo=t}(objects||(objects={})),function(e){var t=function(e){function t(t){var s=e.call(this,t.getResult("background"))||this;switch(managers.Game.currentScene){case config.Scene.PLAY_ONE:s=e.call(this,t.getResult("background"))||this;break;case config.Scene.PLAY_TWO:s=e.call(this,t.getResult("background2"))||this;break;case config.Scene.PLAY_THREE:s=e.call(this,t.getResult("background3"))||this}return s.Start(),s}return __extends(t,e),Object.defineProperty(t.prototype,"Dy",{get:function(){return this._dy},set:function(e){this._dy=e},enumerable:!0,configurable:!0}),t.prototype._reset=function(){this.y=-1e3},t.prototype._checkBounds=function(){this.y>=0&&this._reset()},t.prototype._move=function(){this.y+=this._dy},t.prototype.Start=function(){this._dy=1,this._reset()},t.prototype.Update=function(){this._move(),this._checkBounds()},t}(createjs.Bitmap);e.Background=t}(objects||(objects={})),function(e){var t=function(e){function t(){var t=e.call(this,"playerShip")||this;return t.life=3,t.Start(),t}return __extends(t,e),Object.defineProperty(t,"centerX",{get:function(){return this.centerX},enumerable:!0,configurable:!0}),Object.defineProperty(t,"centerY",{get:function(){return this.centerY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Life",{get:function(){return this.life},enumerable:!0,configurable:!0}),t.prototype.Reset=function(){},t.prototype.CheckBounds=function(){this.x>=640-this.centerX&&(this.x=640-this.centerX),this.x<this.centerX&&(this.x=this.centerX),this.y>=480-this.centerY&&(this.y=480-this.centerY),this.y<this.centerY&&(this.y=this.centerY)},t.prototype.Move=function(){managers.Game.keyboardManager.moveLeft&&(this.x-=10),managers.Game.keyboardManager.moveRight&&(this.x+=10),managers.Game.keyboardManager.moveForward&&(this.y+=10),managers.Game.keyboardManager.moveBackward&&(this.y-=10)},t.prototype.Start=function(){this.x=300,this.y=430,this._missileSpawn=new math.Vector2},t.prototype.Update=function(){this.Move(),this.CheckBounds(),this.BulletFire()},t.prototype.BulletFire=function(){if((this.alpha=1)&&createjs.Ticker.getTicks()%10==0){this._missileSpawn=new math.Vector2(this.x,this.y-this.centerY);var e=managers.Game.bulletManager.CurrentMissile,t=managers.Game.bulletManager.Missiles[e];t.x=this._missileSpawn.x,t.y=this._missileSpawn.y,this._missileSound=createjs.Sound.play("missileSound"),this._missileSound.loop=0,this._missileSound.volume=.2,managers.Game.bulletManager.CurrentMissile++,managers.Game.bulletManager.CurrentMissile>999&&(managers.Game.bulletManager.CurrentMissile=0)}},t}(e.GameObject);e.Plane=t}(objects||(objects={})),function(e){var t=function(e){function t(){var t=e.call(this,"missile")||this;return t.Start(),t}return __extends(t,e),t.prototype.Start=function(){this._dy=-10,this._dx=0,this.Reset()},t.prototype.Update=function(){this.Move(),this.CheckBounds()},t.prototype.Reset=function(){this.x=-5e3,this.y=-5e3},t.prototype.CheckBounds=function(){this.y<=-this.height&&this.Reset()},t.prototype.Move=function(){this.y+=this._dy},t}(e.GameObject);e.Missile=t}(objects||(objects={})),function(e){var t=function(e){function t(){var t=e.call(this,"enemyA")||this;return t.Start(),t.life=1,t}return __extends(t,e),t.prototype.Move=function(){this.x+=this._dx,this.y+=this._dy},t.prototype.Start=function(){this.Reset()},t.prototype.Reset=function(){this.alpha=1,this.x=Math.random()*(640-this.width)+this.centerX,this.y=-this.height,this._dx=-4*Math.random()+2,this._dy=5*Math.random()+5},t.prototype.CheckBounds=function(){this.y>=480+this.height&&this.Reset()},t.prototype.Update=function(){this.position=new math.Vector2(this.x,this.y),this.Move(),this.CheckBounds()},t}(e.GameObject);e.Enemy=t}(objects||(objects={})),function(e){var t=function(e){function t(){var t=e.call(this,"star")||this;return t.Start(),t}return __extends(t,e),t.prototype.Start=function(){this._dy=5,this.Reset()},t.prototype.Update=function(){this.Move(),this.CheckBounds()},t.prototype.Reset=function(){this.alpha=1,this.x=Math.floor(Math.random()*(640-this.width)+this.centerY),this.y=-this.height},t.prototype.Move=function(){this.position=new math.Vector2(this.x,this.y),this.y+=this._dy},t.prototype.CheckBounds=function(){this.y>=480+this.height&&this.Reset()},t}(e.GameObject);e.Star=t}(objects||(objects={})),function(e){var t=function(e){function t(){var t=e.call(this,"lifeitem")||this;return t.Start(),t}return __extends(t,e),t.prototype.Start=function(){this._dy=5,this.Reset()},t.prototype.Update=function(){this.Move(),this.CheckBounds()},t.prototype.Reset=function(){this.alpha=1,this.x=Math.floor(Math.random()*(640-this.width)+this.centerY),this.y=-this.height},t.prototype.Move=function(){this.position=new math.Vector2(this.x,this.y),this.y+=this._dy},t.prototype.CheckBounds=function(){this.y>=480+this.height&&this.Reset()},t}(e.GameObject);e.LifeItem=t}(objects||(objects={})),function(e){var t=function(e){function t(){var t=e.call(this,"meteorsmall")||this;return t.Start(),t}return __extends(t,e),t.prototype.Start=function(){this._dy=1,this.Reset()},t.prototype.Update=function(){this.Move(),this.CheckBounds()},t.prototype.Reset=function(){this.alpha=1,this.x=Math.floor(Math.random()*(640-this.width)+this.centerY),this.y=-this.height},t.prototype.Move=function(){this.position=new math.Vector2(this.x,this.y),this.y+=this._dy},t.prototype.CheckBounds=function(){this.y>=480+this.height&&this.Reset()},t}(e.GameObject);e.Meteor=t}(objects||(objects={})),function(e){var t=function(e){function t(){var t=e.call(this,"explosion")||this;return t.Start(),t}return __extends(t,e),t.prototype._animationEnded=function(){this.alpha=0,this.off("animationend",this._animationEnded.bind(this),!1),managers.Game.currentSceneObject.removeChild(this)},t.prototype.Start=function(){this.on("animationend",this._animationEnded.bind(this),!1)},t.prototype.Update=function(){},t}(e.GameObject);e.Explosion=t}(objects||(objects={})),function(e){var t=function(e){function t(t){var s=e.call(this,t.getResult("warning"))||this;return s.x=10,s.y=100,s.Start(),s}return __extends(t,e),t.prototype.Start=function(){this._scoreBoard=managers.Game.scoreboardManager,this._boss=managers.Game.boss,this.Reset()},t.prototype.Update=function(){this._boss.y<50?(managers.Game.currentSceneObject.addChild(this),createjs.Sound.play("warningSound"),this.alpha=1,this.Move()):50===this._boss.y&&managers.Game.currentSceneObject.removeChild(this)},t.prototype.Reset=function(){this.alpha=0,this.x=10,this.y=100},t.prototype.Move=function(){this.x+=10},t.prototype.CheckBounds=function(){this.x>=640+managers.Game.currentSceneObject.getBounds().width&&this.Reset()},t}(createjs.Bitmap);e.Warning=t}(objects||(objects={})),function(e){var t=function(e){function t(){var t=e.call(this,"bossB")||this;return t.Start(),t.life=1e3,t}return __extends(t,e),t.prototype.Start=function(){this.alpha=1,this._dy=5,this.x=320,this.y=-this.height},t.prototype.Move=function(){this.y+=this._dy},t.prototype.CheckBounds=function(){this.y>=50&&(this.y=50)},t.prototype.Update=function(){this.position=new math.Vector2(this.x,this.y),this.Move(),this.CheckBounds()},t}(e.GameObject);e.Boss=t}(objects||(objects={})),function(e){var t=function(){function t(){this.start()}return t.prototype.start=function(){},t.prototype.update=function(){},t.Check=function(t,s){var n=new math.Vector2(t.x,t.y),i=new math.Vector2(s.x,s.y);if(0!=s.alpha)if(math.Vector2.distance(n,i)<t.centerY+s.centerY){if(!s.isColliding)switch(s.isColliding=!0,s.name){case"enemyA":t.life-=1,e.Game.scoreboardManager.Lives-=1,createjs.Sound.play("crashSound"),s.alpha=0;var o=new objects.Explosion;o.x=t.x,o.y=t.y,e.Game.currentSceneObject.addChild(o);break;case"star":e.Game.scoreboardManager.Score+=100,createjs.Sound.play("gettingItemSound"),s.alpha=0,e.Game.HighScore<=e.Game.scoreboardManager.Score&&(e.Game.scoreboardManager.HighScore=e.Game.scoreboardManager.Score,e.Game.HighScore=e.Game.scoreboardManager.HighScore);break;case"lifeitem":t.life+=1,e.Game.scoreboardManager.Lives+=1,createjs.Sound.play("gettingItemSound"),s.alpha=0,e.Game.scoreboardManager.Lives>=5&&(e.Game.scoreboardManager.Lives=5);break;case"bossB":s.life-=1,s.life<0&&(s.alpha=0),t.alpha=0,50==s.y&&((o=new objects.Explosion).x=s.x-30+50*Math.random(),o.y=s.centerY*Math.random(),e.Game.currentSceneObject.addChild(o))}}else s.isColliding=!1},t.Crush=function(t,s){for(var n=0;n<t.length;n++)for(var i=0;i<s.length;i++){var o=new math.Vector2(t[n].x,t[n].y),a=new math.Vector2(s[i].x,s[i].y);if(0!=s[i].alpha&&0!=t[n].alpha&&math.Vector2.distance(o,a)<t[n].centerY+s[i].centerY&&!s[i].isColliding){s[i].isColliding=!0,s[i].alpha=0,t[n].alpha=0,e.Game.scoreboardManager.Score+=100;var r=new objects.Explosion;r.x=s[i].x,r.y=s[i].y,e.Game.currentSceneObject.addChild(r)}}},t}();e.Collision=t}(managers||(managers={})),function(e){var t=function(){function e(){this.enabled=!0,document.addEventListener("keydown",this.onKeyDown.bind(this),!1),document.addEventListener("keyup",this.onKeyUp.bind(this),!1)}return e.prototype.onKeyDown=function(e){switch(e.keyCode){case config.Keys.UP_ARROW:this.moveForward=!0;break;case config.Keys.LEFT_ARROW:this.moveLeft=!0;break;case config.Keys.DOWN_ARROW:this.moveBackward=!0;break;case config.Keys.RIGHT_ARROW:this.moveRight=!0}},e.prototype.onKeyUp=function(e){switch(e.keyCode){case config.Keys.UP_ARROW:this.moveForward=!1;break;case config.Keys.LEFT_ARROW:this.moveLeft=!1;break;case config.Keys.DOWN_ARROW:this.moveBackward=!1;break;case config.Keys.RIGHT_ARROW:this.moveRight=!1}},e}();e.Keyboard=t}(managers||(managers={})),function(e){var t=function(){function e(){this._initialize()}return Object.defineProperty(e.prototype,"Score",{get:function(){return this._score},set:function(e){this._score=e,this.ScoreLabel.text="Score: "+this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lives",{get:function(){return this._lives},set:function(e){this._lives=e,this.LivesLabel.text="Lives: "+this._lives},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"HighScore",{get:function(){return this._highScore},set:function(e){this._highScore=e,this.HighScoreLabel.text="High Score: "+this._highScore},enumerable:!0,configurable:!0}),e.prototype._initialize=function(){this.LivesLabel=new objects.Label("Lives: 0","20px","SpaceComic","#FFFFFF",10,10,!1),this.ScoreLabel=new objects.Label("Score: 99999","15px","SpaceComic","#FFFF00",480,10,!1),this.HighScoreLabel=new objects.Label("High Score: 99999","40px","SpaceComic","#FFFFFF",320,140,!0),this.Score=0,this.Lives=3,this.HighScore=0},e}();e.ScoreBoard=t}(managers||(managers={})),function(e){var t=function(){function e(){this.Start()}return e.prototype._missileShoot=function(){for(var e=0;e<this._missileCount;e++)this.Missiles[e]=new objects.Missile},e.prototype.Start=function(){this._missileCount=1e3,this.Missiles=new Array,this._missileShoot(),this.CurrentMissile=0},e.prototype.Update=function(){this.Missiles.forEach(function(e){e.Update()})},e}();e.Missile=t}(managers||(managers={})),function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Start(),t}return __extends(t,e),t.prototype.GoStart=function(){setTimeout(function(){managers.Game.currentScene=config.Scene.OPENING},3e3)},t.prototype.AnimateLogo=function(){},t.prototype.Start=function(){this._background=new objects.Background(this.assetManager),this._logo=new objects.Logo(this.assetManager,"imgLogo",320,220),this.Main(),console.log("loading game..")},t.prototype.Update=function(){},t.prototype.Main=function(){this.addChild(this._background),this.addChild(this._logo),this.AnimateLogo(),this.GoStart()},t}(objects.Scene);e.loadingScene=t}(scenes||(scenes={})),function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Start(),t}return __extends(t,e),t.prototype._btnStartClick=function(){managers.Game.currentScene=config.Scene.CHOOSEMODE},t.prototype.Start=function(){this._background=new objects.Background(this.assetManager),this._logo=new objects.Logo(this.assetManager,"logo",320,220),this._openingLogo=new objects.Label("The Galaxy of the Guardians","30px","SpaceComic","#FFFFFF",100,310),this._btnStart=new objects.Button("btnStart",320,415),this.Main(),console.log("start")},t.prototype.Update=function(){},t.prototype.Main=function(){this.addChild(this._background),this.addChild(this._openingLogo),this.addChild(this._btnStart),this.addChild(this._logo),this._btnStart.on("click",this._btnStartClick)},t}(objects.Scene);e.openingScene=t}(scenes||(scenes={})),function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Start(),t}return __extends(t,e),t.prototype._btnNormalClick=function(){managers.Game.currentScene=config.Scene.PLAY_ONE},t.prototype._btnHellClick=function(){managers.Game.currentScene=config.Scene.PLAY_ONE},t.prototype._btnBackClick=function(){managers.Game.currentScene=config.Scene.OPENING},t.prototype.Start=function(){this._background=new objects.Background(this.assetManager),this._logo=new objects.Logo(this.assetManager,"logo",320,220),this._btnNormal=new objects.Button("btnNormal",200,370),this._btnHell=new objects.Button("btnUltimate",440,370),this._btnBack=new objects.Button("btnBack",530,80),this.Main(),console.log("start")},t.prototype.Update=function(){},t.prototype.Main=function(){this.addChild(this._background),this.addChild(this._btnNormal),this.addChild(this._btnHell),this.addChild(this._btnBack),this.addChild(this._logo),this._btnNormal.on("click",this._btnNormalClick),this._btnHell.on("click",this._btnHellClick),this._btnBack.on("click",this._btnBackClick)},t}(objects.Scene);e.chooseModeScene=t}(scenes||(scenes={})),function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Start(),t}return __extends(t,e),t.prototype._sucessStage=function(){0==this._boss.alpha&&(this._congratMessage.Update(),setTimeout(function(){managers.Game.currentScene=config.Scene.PLAY_TWO},4e3),this._backgroundSound.stop())},t.prototype.Start=function(){this._background=new objects.Background(this.assetManager),this._plane=new objects.Plane,managers.Game.plane=this._plane,this._star=new objects.Star,this._lifeItem=new objects.LifeItem,this._meteor=new objects.Meteor,this._enemyNum=5,this._enemy=new Array,managers.Game.enemies=this._enemy,this._boss=new objects.Boss,managers.Game.boss=this._boss,this._missileManager=new managers.Missile,managers.Game.bulletManager=this._missileManager;for(var e=0;e<this._enemyNum;e++)this._enemy[e]=new objects.Enemy;this._backgroundSound=createjs.Sound.play("backgroundSound"),this._backgroundSound.loop=-1,this._backgroundSound.volume=.5,this._scoreBoard=new managers.ScoreBoard,managers.Game.scoreboardManager=this._scoreBoard,this._warningMessage=new objects.Warning(this.assetManager),this._congratMessage=new objects.Label("Congratulations!","40px","SpaceComic","#FFFFFF",320,600,!0),this.Main()},t.prototype.Update=function(){var e=this;this._background.Update(),this._plane.Update(),this._star.Update(),this._lifeItem.Update(),this._meteor.Update(),this._missileManager.Update(),this._scoreBoard.Score>=3e3&&(this._boss.Update(),this._warningMessage.Update()),managers.Collision.Check(this._plane,this._star),managers.Collision.Check(this._plane,this._lifeItem),this._enemy.forEach(function(t){t.Update(),managers.Collision.Check(e._plane,t),0==e._plane.Life&&(managers.Game.currentScene=config.Scene.GAMEOVER,e._backgroundSound.stop())}),managers.Collision.Crush(this._missileManager.Missiles,this._enemy),this._missileManager.Missiles.forEach(function(t){managers.Collision.Check(t,e._boss)}),this._scoreBoard.Lives<=0&&(managers.Game.currentScene=config.Scene.GAMEOVER,this._backgroundSound.stop()),this._sucessStage()},t.prototype.Main=function(){var e=this;this.addChild(this._background),this.addChild(this._meteor),this.addChild(this._star),this.addChild(this._lifeItem),this._missileManager.Missiles.forEach(function(t){e.addChild(t)}),this.addChild(this._warningMessage),this.addChild(this._boss),this.addChild(this._plane),this._enemy.forEach(function(t){e.addChild(t)}),this.addChild(this._scoreBoard.LivesLabel),this.addChild(this._scoreBoard.ScoreLabel),this.addChild(this._congratMessage)},t}(objects.Scene);e.StageOneScene=t}(scenes||(scenes={})),function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Start(),t}return __extends(t,e),t.prototype._sucessStage=function(){0==this._boss.alpha&&(this._congratMessage.Update(),setTimeout(function(){managers.Game.currentScene=config.Scene.PLAY_THREE},4e3),this._backgroundSound.stop())},t.prototype.Start=function(){console.log("Stage two"),this._background=new objects.Background(this.assetManager),this._plane=new objects.Plane,this._plane=managers.Game.plane,this._star=new objects.Star,this._lifeItem=new objects.LifeItem,this._meteor=new objects.Meteor,this._enemyNum=6,this._enemy=new Array,managers.Game.enemies=this._enemy,this._boss=new objects.Boss,managers.Game.boss=this._boss,this._missileManager=new managers.Missile,managers.Game.bulletManager=this._missileManager;for(var e=0;e<this._enemyNum;e++)this._enemy[e]=new objects.Enemy;this._backgroundSound=createjs.Sound.play("backgroundSound"),this._backgroundSound.loop=-1,this._backgroundSound.volume=.5,this._scoreBoard=new managers.ScoreBoard,this._scoreBoard=managers.Game.scoreboardManager,this._prviousScore=managers.Game.scoreboardManager.Score,this._warningMessage=new objects.Warning(this.assetManager),this._congratMessage=new objects.Label("Congratulations!","40px","SpaceComic","#FFFFFF",320,600,!0),this.Main()},t.prototype.Update=function(){var e=this;this._background.Update(),this._plane.Update(),this._star.Update(),this._lifeItem.Update(),this._meteor.Update(),this._missileManager.Update(),this._scoreBoard.Score>=this._prviousScore+5e3&&(this._boss.Update(),this._warningMessage.Update()),managers.Collision.Check(this._plane,this._star),managers.Collision.Check(this._plane,this._lifeItem),this._enemy.forEach(function(t){t.Update(),t.Dy+=.07,managers.Collision.Check(e._plane,t),0==e._plane.Life&&(managers.Game.currentScene=config.Scene.GAMEOVER,e._backgroundSound.stop())}),managers.Collision.Crush(this._missileManager.Missiles,this._enemy),this._missileManager.Missiles.forEach(function(t){managers.Collision.Check(t,e._boss)}),this._scoreBoard.Lives<=0&&(managers.Game.currentScene=config.Scene.GAMEOVER,this._backgroundSound.stop()),this._sucessStage()},t.prototype.Main=function(){var e=this;this.addChild(this._background),this.addChild(this._meteor),this.addChild(this._star),this.addChild(this._lifeItem),this._missileManager.Missiles.forEach(function(t){e.addChild(t)}),this.addChild(this._warningMessage),this.addChild(this._boss),this.addChild(this._plane),this._enemy.forEach(function(t){e.addChild(t)}),this.addChild(this._scoreBoard.LivesLabel),this.addChild(this._scoreBoard.ScoreLabel),this.addChild(this._congratMessage)},t}(objects.Scene);e.StageTwoScene=t}(scenes||(scenes={})),function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Start(),t}return __extends(t,e),t.prototype._sucessStage=function(){0==this._boss.alpha&&(this._congratMessage.Update(),setTimeout(function(){managers.Game.currentScene=config.Scene.GAMEOVER},4e3),this._backgroundSound.stop())},t.prototype.Start=function(){console.log("Stage three"),this._background=new objects.Background(this.assetManager),this._plane=new objects.Plane,this._plane=managers.Game.plane,this._star=new objects.Star,this._lifeItem=new objects.LifeItem,this._meteor=new objects.Meteor,this._enemyNum=7,this._enemy=new Array,managers.Game.enemies=this._enemy,this._boss=new objects.Boss,managers.Game.boss=this._boss,this._missileManager=new managers.Missile,managers.Game.bulletManager=this._missileManager;for(var e=0;e<this._enemyNum;e++)this._enemy[e]=new objects.Enemy;this._backgroundSound=createjs.Sound.play("backgroundSound"),this._backgroundSound.loop=-1,this._backgroundSound.volume=.5,this._scoreBoard=new managers.ScoreBoard,this._scoreBoard=managers.Game.scoreboardManager,this._prviousScore=managers.Game.scoreboardManager.Score,this._warningMessage=new objects.Warning(this.assetManager),this._congratMessage=new objects.Label("Congratulations!","40px","SpaceComic","#FFFFFF",320,600,!0),this.Main()},t.prototype.Update=function(){var e=this;this._background.Update(),this._plane.Update(),this._star.Update(),this._lifeItem.Update(),this._meteor.Update(),this._missileManager.Update(),this._scoreBoard.Score>=this._prviousScore+1e4&&(this._boss.Update(),this._warningMessage.Update()),managers.Collision.Check(this._plane,this._star),managers.Collision.Check(this._plane,this._lifeItem),this._enemy.forEach(function(t){t.Update(),t.Dy+=.07,managers.Collision.Check(e._plane,t),0==e._plane.Life&&(managers.Game.currentScene=config.Scene.GAMEOVER,e._backgroundSound.stop())}),managers.Collision.Crush(this._missileManager.Missiles,this._enemy),this._missileManager.Missiles.forEach(function(t){managers.Collision.Check(t,e._boss)}),this._scoreBoard.Lives<=0&&(managers.Game.currentScene=config.Scene.GAMEOVER,this._backgroundSound.stop()),this._sucessStage()},t.prototype.Main=function(){var e=this;this.addChild(this._background),this.addChild(this._meteor),this.addChild(this._star),this.addChild(this._lifeItem),this._missileManager.Missiles.forEach(function(t){e.addChild(t)}),this.addChild(this._warningMessage),this.addChild(this._boss),this.addChild(this._plane),this._enemy.forEach(function(t){e.addChild(t)}),this.addChild(this._scoreBoard.LivesLabel),this.addChild(this._scoreBoard.ScoreLabel),this.addChild(this._congratMessage)},t}(objects.Scene);e.StageThreeScene=t}(scenes||(scenes={})),function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.Start(),t}return __extends(t,e),t.prototype._btnPlayAgainClick=function(){managers.Game.currentScene=config.Scene.OPENING},t.prototype.Start=function(){this._btnPlayAgain=new objects.Button("btnPlayAgain",320,360),this._lblGameOver=new objects.Label("Game Over","40px","SpaceComic","#FF0000",320,240,!0),this._lblScore=new objects.Label("High Score: ","40px","SpaceComic","#FF0000",120,95,!1),this._scoreboard=new managers.ScoreBoard,this.Main(),console.log("game over")},t.prototype.Update=function(){},t.prototype.Main=function(){createjs.Sound.play("tadaSound"),this.addChild(this._lblGameOver),this.addChild(this._btnPlayAgain),this._scoreboard.HighScore=managers.Game.HighScore,this._lblScore.text+=this._scoreboard.HighScore,this.addChild(this._lblScore),this._btnPlayAgain.on("click",this._btnPlayAgainClick)},t}(objects.Scene);e.GameOverScene=t}(scenes||(scenes={})),function(){var e,t,s,n,i,o,a,r,c=document.getElementById("canvas");function h(){a.images=[t.getResult("textureAtlas")],(e=new createjs.Stage(c)).enableMouseOver(20),createjs.Ticker.framerate=60,createjs.Ticker.on("tick",u),managers.Game.stage=e,managers.Game.currentScene=config.Scene.LOADING,i=config.Scene.LOADING,o=new managers.Keyboard,managers.Game.keyboardManager=o,managers.Game.assetManager=t,managers.Game.textureAtlas=r,d()}function u(){i!=managers.Game.currentScene&&d(),n.Update(),e.update()}function d(){switch(e.removeAllChildren(),managers.Game.currentScene){case config.Scene.LOADING:n=new scenes.loadingScene;break;case config.Scene.OPENING:n=new scenes.openingScene;break;case config.Scene.CHOOSEMODE:n=new scenes.chooseModeScene;break;case config.Scene.PLAY_ONE:n=new scenes.StageOneScene;break;case config.Scene.PLAY_TWO:n=new scenes.StageTwoScene;break;case config.Scene.PLAY_THREE:n=new scenes.StageThreeScene;break;case config.Scene.GAMEOVER:n=new scenes.GameOverScene}i=managers.Game.currentScene,managers.Game.currentSceneObject=n,e.addChild(n)}a={images:["./Assets/sprites/textureAtlas.png"],frames:[[1,1,512,606,0,0,-25],[515,1,474,464,0,-19,-24],[515,467,398,191,0,-2,-2],[915,467,92,164,0,-4,-18],[915,633,80,54,0,-5,-18],[1,609,286,186,0,0,0],[289,609,198,172,0,-29,-42],[489,660,240,242,0,-8,-7],[289,783,198,172,0,-29,-42],[731,660,160,100,0,-20,0],[893,689,130,96,0,-10,-2],[731,762,150,179,0,0,-7],[489,904,230,412,0,-13,-50],[883,787,126,122,0,-1,-3],[883,911,120,121,0,-3,-4],[721,943,119,108,0,-6,-10],[842,943,35,35,0,0,0],[1,797,229,57,0,-12,-7],[232,797,52,50,0,-5,-8],[232,849,51,52,0,-6,-7],[1,856,226,56,0,-7,-14],[229,903,58,69,0,-10,0],[289,957,198,125,0,-26,0],[1,914,226,56,0,-7,-14],[1,972,196,232,0,-1,-16],[199,974,78,41,0,-25,-43],[199,1017,75,75,0,0,0],[842,1034,63,70,0,-7,0],[907,1034,61,70,0,-8,0],[970,1034,51,52,0,-6,-7],[970,1088,51,52,0,-6,-7],[721,1053,60,60,0,-2,-2],[783,1053,57,64,0,-4,0],[721,1115,60,60,0,-2,-2],[842,1106,56,59,0,-11,0],[783,1119,56,57,0,-11,0],[721,1177,51,52,0,-6,-7],[900,1106,51,52,0,-6,-7],[953,1142,51,52,0,-6,-7],[900,1160,49,64,0,-7,0],[841,1167,46,78,0,-9,-9]],animations:{enemyH:{frames:[0]},meteorbig:{frames:[1]},btnPlayAgain:{frames:[2]},enemyB:{frames:[3]},lifeitem:{frames:[4]},logo:{frames:[5]},enemyE:{frames:[6]},meteormedium:{frames:[7]},enemyF:{frames:[8]},enemyD:{frames:[9]},enemyA:{frames:[10]},enemyC:{frames:[11]},enemyG:{frames:[12]},meteorsmall:{frames:[13]},meteor:{frames:[14]},meteorB:{frames:[15]},star:{frames:[16]},btnUltimate:{frames:[17]},explosion:{frames:[19,29,30,36,37,38,18]},btnNormal:{frames:[20]},bossA:{frames:[22]},btnStart:{frames:[23]},bossB:{frames:[24]},poweritem:{frames:[25]},btnBack:{frames:[26]},bossmissileA:{frames:[31]},missile2:{frames:[32]},bossmissileB:{frames:[33]},playerShip:{frames:[35,34,21,28,27],speed:.5},missile:{frames:[39]},missile3:{frames:[40]}}},s=[{id:"imgLogo",src:"./Assets/images/logo.png"},{id:"background",src:"./Assets/images/background.png"},{id:"background2",src:"./Assets/images/background2.png"},{id:"background3",src:"./Assets/images/background3.png"},{id:"logo",src:"./Assets/images/logo.png"},{id:"warning",src:"./Assets/images/warning.png"},{id:"backgroundSound",src:"./Assets/sounds/background.mp3"},{id:"missileSound",src:"./Assets/sounds/missileSound.mp3"},{id:"warningSound",src:"./Assets/sounds/warningSound.mp3"},{id:"bazoozaSound",src:"./Assets/sounds/bazookaSound.mp3"},{id:"crashSound",src:"./Assets/sounds/crashSound.mp3"},{id:"tadaSound",src:"./Assets/sounds/tada.mp3"},{id:"gettingItemSound",src:"./Assets/sounds/gettingItem.wav"}],window.onload=function(){r=new createjs.SpriteSheet(a),(t=new createjs.LoadQueue).installPlugin(createjs.Sound),t.loadManifest(s),t.on("complete",h,this),console.log("start")}}();